{"version":3,"sources":["components/Updates.js"],"names":["newDate","Date","currentDate","Updates","updates","useLayoutEffect","className","format","reverse","map","activity","index","update","replace","activityDate","date","Fragment","key","getDate","href","source","target","rel","capitalize","formatDistance","dangerouslySetInnerHTML","__html"],"mappings":"+GAAA,wDAMMA,EAAU,IAAIC,KAChBC,EAAcF,EAkFHG,UAhFf,YAA6B,IAAXC,EAAU,EAAVA,QAMhB,OALAC,2BAAgB,WACdH,EAAcF,KAKd,yBAAKM,UAAU,WACb,yBAAKA,UAAU,kBACb,4BAAKC,YAAOL,EAAa,WAG1BE,EAEEI,UACAC,KAAI,SAAUC,EAAUC,GACvBD,EAASE,OAASF,EAASE,OAAOC,QAAQ,MAAO,SAEjD,IAAMC,EAAe,IAAIb,KAAKS,EAASK,MAoBvC,OACE,kBAAC,IAAMC,SAAP,CAAgBC,IAAKN,GAClBG,EAAaI,YAAchB,EAAYgB,WApB1ChB,EAAcY,EAGZ,kBAAC,IAAME,SAAP,KACa,IAAVL,EACC,yBAAKL,UAAU,UACb,gDAGF,GAEF,yBAAKA,UAAU,kBACb,4BAAKC,YAAOO,EAAc,aAU1B,IACJ,uBAAGK,KAAMT,EAASU,OAAQC,OAAO,SAASC,IAAI,uBAC5C,yBAAKL,IAAKN,EAAOL,UAAU,UACzB,4BACGiB,YACCC,YAEE,IAAIvB,KAAKS,EAASK,MAClB,IAAId,OAEJ,QAEJ,wBACAwB,wBAAyB,CACvBC,OAAQhB,EAASE","file":"static/js/37.b6bc8d07.chunk.js","sourcesContent":["import {UPDATES_COUNT} from '../constants';\nimport {capitalize} from '../utils/commonFunctions';\n\nimport {formatDistance, format} from 'date-fns';\nimport React, {useLayoutEffect} from 'react';\n\nconst newDate = new Date();\nlet currentDate = newDate;\n\nfunction Updates({updates}) {\n  useLayoutEffect(() => {\n    currentDate = newDate;\n  });\n  // console.log(currentDate)\n\n  return (\n    <div className=\"updates\">\n      <div className=\"updates-header\">\n        <h2>{format(currentDate, 'd MMM')}</h2>\n      </div>\n\n      {updates\n        // .slice(-UPDATES_COUNT)\n        .reverse()\n        .map(function (activity, index) {\n          activity.update = activity.update.replace(/\\n/g, '<br/>');\n          // const activityDate = new Date(activity.timestamp * 1000);\n          const activityDate = new Date(activity.date);\n          const addHeader = () => {\n            currentDate = activityDate;\n\n            return (\n              <React.Fragment>\n                {index === 0 ? (\n                  <div className=\"update\">\n                    <h4>No updates yet!</h4>\n                  </div>\n                ) : (\n                  ''\n                )}\n                <div className=\"updates-header\">\n                  <h2>{format(activityDate, 'd MMM')}</h2>\n                </div>\n              </React.Fragment>\n            );\n          };\n\n          return (\n            <React.Fragment key={index}>\n              {activityDate.getDate() !== currentDate.getDate()\n                ? addHeader()\n                : ' '}\n              <a href={activity.source} target=\"_blank\" rel=\"noopener noreferrer\">\n                <div key={index} className=\"update\">\n                  <h5>\n                    {capitalize(\n                      formatDistance(\n                        // new Date(activity.timestamp * 1000),\n                        new Date(activity.date),\n                        new Date()\n                      )\n                    ) + ' ago'}\n                  </h5>\n                    <h4\n                    dangerouslySetInnerHTML={{\n                      __html: activity.update,\n                    }}></h4>\n                </div>\n              </a>\n            </React.Fragment>\n          );\n        })}\n      {/* <div className=\"updates-footer\">\n        <a\n          href=\"https://t.me/covid19indiaorg_updates\"\n          target=\"_blank\"\n          className=\"telegram\"\n          rel=\"noopener noreferrer\"\n        >\n          <h4>\n            <Send />\n            Join Instant Updates channel\n          </h4>\n        </a>\n      </div> */}\n    </div>\n  );\n}\n\nexport default Updates;\n"],"sourceRoot":""}